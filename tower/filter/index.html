<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Conditionally dispatch requests to the inner service based on the result of a predicate."><title>tower::filter - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="tower" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0-nightly (4da69dfff 2025-10-01)" data-channel="nightly" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-828709d0.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module filter</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../tower/index.html">tower</a><span class="version">0.5.2</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module filter</a></h2><h3><a href="#modules">Module Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#traits" title="Traits">Traits</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate tower</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">tower</a></div><h1>Module <span>filter</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/tower/filter/mod.rs.html#1-191">Source</a> </span></div><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>filter</code></strong> only.</div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Conditionally dispatch requests to the inner service based on the result of
a predicate.</p>
<p>A predicate takes some request type and returns a <code>Result&lt;Request, Error&gt;</code>.
If the predicate returns <a href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html#variant.Ok" title="variant core::result::Result::Ok"><code>Ok</code></a>, the inner service is called with the request
returned by the predicate — which may be the original request or a
modified one. If the predicate returns <a href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html#variant.Err" title="variant core::result::Result::Err"><code>Err</code></a>, the request is rejected and
the inner service is not called.</p>
<p>Predicates may either be synchronous (simple functions from a <code>Request</code> to
a <a href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result"><code>Result</code></a>) or asynchronous (functions returning <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future"><code>Future</code></a>s). Separate
traits, <a href="trait.Predicate.html" title="trait tower::filter::Predicate"><code>Predicate</code></a> and <a href="trait.AsyncPredicate.html" title="trait tower::filter::AsyncPredicate"><code>AsyncPredicate</code></a>, represent these two types of
predicate. Note that when it is not necessary to await some other
asynchronous operation in the predicate, the synchronous predicate should be
preferred, as it introduces less overhead.</p>
<p>The predicate traits are implemented for closures and function pointers.
However, users may also implement them for other types, such as when the
predicate requires some state carried between requests. For example,
<a href="trait.Predicate.html" title="trait tower::filter::Predicate"><code>Predicate</code></a> could be implemented for a type that rejects a fixed set of
requests by checking if they are contained by a a <a href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet"><code>HashSet</code></a> or other
collection.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="future/index.html" title="mod tower::filter::future">future</a></dt><dd>Future types</dd></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.AsyncFilter.html" title="struct tower::filter::AsyncFilter">Async<wbr>Filter</a></dt><dd>Conditionally dispatch requests to the inner service based on an
<a href="trait.AsyncPredicate.html" title="trait tower::filter::AsyncPredicate">asynchronous predicate</a>.</dd><dt><a class="struct" href="struct.AsyncFilterLayer.html" title="struct tower::filter::AsyncFilterLayer">Async<wbr>Filter<wbr>Layer</a></dt><dd>Conditionally dispatch requests to the inner service based on an asynchronous
<a href="trait.AsyncPredicate.html" title="trait tower::filter::AsyncPredicate">predicate</a>.</dd><dt><a class="struct" href="struct.Filter.html" title="struct tower::filter::Filter">Filter</a></dt><dd>Conditionally dispatch requests to the inner service based on a <a href="trait.Predicate.html" title="trait tower::filter::Predicate">predicate</a>.</dd><dt><a class="struct" href="struct.FilterLayer.html" title="struct tower::filter::FilterLayer">Filter<wbr>Layer</a></dt><dd>Conditionally dispatch requests to the inner service based on a synchronous
<a href="trait.Predicate.html" title="trait tower::filter::Predicate">predicate</a>.</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.AsyncPredicate.html" title="trait tower::filter::AsyncPredicate">Async<wbr>Predicate</a></dt><dd>Checks a request asynchronously.</dd><dt><a class="trait" href="trait.Predicate.html" title="trait tower::filter::Predicate">Predicate</a></dt><dd>Checks a request synchronously.</dd></dl></section></div></main></body></html>